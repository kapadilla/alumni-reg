@import "tailwindcss";
@variant dark (.dark &);

@theme {
  --color-primary: #7b1113;
  --color-secondary: #014421;
  --color-accent: #fbbf24;
  --color-subtle: var(--color-gray-500);
  --color-background: var(--color-gray-100);
  --color-surface: var(--color-white);
  --color-border: var(--color-gray-300);
  --color-text: var(--color-gray-900);
  --color-text2: var(--color-gray-700);

  --font-sans: "Inter", sans-serif;
  --font-serif: "Merriweather", serif;
}

:root {
  @media (prefers-color-scheme: dark) {
    --color-primary: #dc3d4a;
    --color-secondary: #2b8a3e;
    --color-subtle: var(--color-gray-400);
    --color-background: #0a0a0a;
    --color-surface: #1a1a1a;
    --color-border: #2a2a2a;
    --color-text: var(--color-gray-200);
  }
}

.dark {
  --color-primary: #dc3d4a;
  --color-secondary: #2b8a3e;
  --color-subtle: var(--color-gray-400);
  --color-background: #0a0a0a;
  --color-surface: #1a1a1a;
  --color-border: #2a2a2a;
  --color-text: var(--color-gray-200);
}

html:not(.dark) {
  --color-primary: #7b1113;
  --color-secondary: #014421;
  --color-accent: #fbbf24;
  --color-subtle: var(--color-gray-500);
  --color-background: var(--color-gray-100);
  --color-surface: var(--color-white);
  --color-border: var(--color-gray-300);
  --color-text: var(--color-gray-900);
}

@layer utilities {
  [class*="rounded"]:not([class*="rounded-full"]) {
    corner-shape: superellipse(1.2);
  }
}

@utility corner-smooth {
  corner-shape: superellipse(1.2) !important;
}

@utility corner-squircle {
  corner-shape: squircle !important;
}

@layer base {

  /* Base styles for HTML elements */
  body {
    color: var(--color-text);
    background-color: var(--color-background);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-serif);
  }

  h1 {
    font-size: var(--text-4xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--text-4xl--line-height);
  }

  h2 {
    font-size: var(--text-3xl);
    font-weight: var(--font-weight-semibold);
  }

  h3 {
    font-size: var(--text-2xl);
    font-weight: var(--font-weight-semibold);
  }

  p {
    margin-bottom: var(--spacing-4);
  }

  button {
    cursor: pointer;
    corner-shape: squircle !important;
    transition: transform 0.25s ease-in-out;
  }

  button:active {
    transform: scale(0.97);
  }

  input[type="checkbox"] {
    accent-color: var(--color-secondary);
  }
}

/* Calendar icon - adapts to theme automatically */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="date"]::-moz-calendar-picker-indicator {
  filter: var(--calendar-icon-filter);
  cursor: pointer;
}

/* Light mode filter */
:root {
  --calendar-icon-filter: brightness(0) saturate(100%);
}

/* Dark mode filter */
@media (prefers-color-scheme: dark) {
  :root {
    --calendar-icon-filter: brightness(0) saturate(100%) invert(1);
  }
}

.dark {
  --calendar-icon-filter: brightness(0) saturate(100%) invert(1);
}

/* Select dropdowns - use color-scheme for native adaptation */
select {
  color-scheme: light dark;
  accent-color: var(--color-secondary);
}

select option {
  background-color: var(--color-surface);
  color: var(--color-text);
}

select option:hover {
  background-color: var(--color-secondary) !important;
  color: white !important;
}

/* Toast styles */
[data-sonner-toaster] {
  font-family: var(--font-sans) !important;
}

[data-sonner-toast] [data-icon] {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

[data-sonner-toast] [data-icon] svg {
  width: 1.25rem;
  height: 1.25rem;
}

[data-sonner-toast][data-type="error"] [data-icon] {
  background-color: #fee2e2;
}

[data-sonner-toast][data-type="error"] [data-icon] svg {
  color: #dc2626;
}

[data-sonner-toast][data-type="success"] [data-icon] {
  background-color: #dcfce7;
}

[data-sonner-toast][data-type="success"] [data-icon] svg {
  color: #16a34a;
}

[data-sonner-toast][data-type="warning"] [data-icon] {
  background-color: #fef3c7;
}

[data-sonner-toast][data-type="warning"] [data-icon] svg {
  color: #d97706;
}

[data-sonner-toast][data-type="info"] [data-icon] {
  background-color: #dbeafe;
}

[data-sonner-toast][data-type="info"] [data-icon] svg {
  color: #2563eb;
}

.dark [data-sonner-toast][data-type="error"] [data-icon] {
  background-color: #450a0a;
}

.dark [data-sonner-toast][data-type="error"] [data-icon] svg {
  color: #f87171;
}

.dark [data-sonner-toast][data-type="success"] [data-icon] {
  background-color: #052e16;
}

.dark [data-sonner-toast][data-type="success"] [data-icon] svg {
  color: #4ade80;
}

.dark [data-sonner-toast][data-type="warning"] [data-icon] {
  background-color: #451a03;
}

.dark [data-sonner-toast][data-type="warning"] [data-icon] svg {
  color: #fbbf24;
}

.dark [data-sonner-toast][data-type="info"] [data-icon] {
  background-color: #172554;
}

.dark [data-sonner-toast][data-type="info"] [data-icon] svg {
  color: #60a5fa;
}